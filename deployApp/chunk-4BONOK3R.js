import{Aa as W,Ba as w,K as M,Oa as F,R as d,Ra as k,S as p,T as E,U as v,Ya as T,Za as I,ab as N,ba as l,ca as b,cb as O,e as _,ea as u,eb as z,fa as m,fb as j,gb as D,ha as n,hb as R,ia as e,ib as q,ja as C,ma as x,na as L,pb as B,qb as U,rb as G,sa as V,ta as o,tb as A,va as P,wb as H,xa as g,ya as c,za as f}from"./chunk-NHHM44B2.js";var y=()=>({standalone:!0});function K(a,s){a&1&&(n(0,"p",23),o(1," Le pr\xE9nom doit contenir au moins 2 caract\xE8res "),e())}function Q(a,s){a&1&&(n(0,"p",23),o(1," Le nom doit contenir au moins 2 caract\xE8res "),e())}function X(a,s){a&1&&(n(0,"p",23),o(1," Entrez une adresse email valide "),e())}function Y(a,s){a&1&&(n(0,"p",23),o(1," Le mot de passe doit contenir au moins 6 caract\xE8res "),e())}function Z(a,s){a&1&&(n(0,"p",23),o(1," Les mots de passe ne correspondent pas "),e())}var J=class a{constructor(s,h){this.utilisateurService=s;this.router=h}prenom="";nom="";email="";password="";confirmPassword="";isLoading=!1;formSubmitted=!1;passwordsMatch(){return this.password===this.confirmPassword}onSignup(){if(this.formSubmitted=!0,!this.prenom||!this.nom||!this.email||!this.password||!this.passwordsMatch()){alert("Merci de remplir correctement tous les champs.");return}this.isLoading=!0,this.utilisateurService.register({prenom:this.prenom,nom:this.nom,email:this.email,mot_de_passe:this.password}).subscribe({next:s=>_(this,null,function*(){console.log("\u2705 Utilisateur cr\xE9\xE9 :",s),this.isLoading=!1,alert("Compte cr\xE9\xE9 avec succ\xE8s \u{1F389} Vous pouvez maintenant vous connecter."),yield this.router.navigate(["/login"])}),error:s=>{console.error("\u274C Erreur lors de l\u2019inscription :",s),this.isLoading=!1,s.message.includes("d\xE9j\xE0")?alert("Un compte existe d\xE9j\xE0 avec cet email \u{1F4E7}"):alert("Erreur lors de la cr\xE9ation du compte.")}})}static \u0275fac=function(h){return new(h||a)(b(H),b(T))};static \u0275cmp=M({type:a,selectors:[["app-signup"]],standalone:!0,features:[W],decls:43,vars:22,consts:[["signupForm","ngForm"],[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gradient-to-br","from-purple-600","via-indigo-600","to-blue-700","p-6"],["routerLink","/",1,"flex","items-center","gap-2","mb-6","text-indigo-100","hover:text-white","font-medium","bg-white/10","hover:bg-white/20","px-4","py-2","rounded-full","border","border-white/30","backdrop-blur-md","shadow","transition-all","duration-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19l-7-7 7-7"],[1,"bg-white","rounded-2xl","shadow-2xl","w-full","max-w-md","p-8","space-y-6"],["id","signup-title",1,"text-2xl","font-bold","text-center","text-indigo-700"],[1,"text-center","text-gray-500","text-sm"],["aria-labelledby","signup-title",1,"space-y-4",3,"ngSubmit"],["for","prenom",1,"block","text-gray-700","font-medium","mb-1"],["id","prenom","name","prenom","type","text","required","","minlength","2","placeholder","Entrez votre pr\xE9nom",1,"w-full","px-4","py-2","border","rounded-lg","outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","ngModelOptions"],["class","text-red-500 text-sm",4,"ngIf"],["for","nom",1,"block","text-gray-700","font-medium","mb-1"],["id","nom","name","nom","type","text","required","","minlength","2","placeholder","Entrez votre nom",1,"w-full","px-4","py-2","border","rounded-lg","outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","ngModelOptions"],["for","email",1,"block","text-gray-700","font-medium","mb-1"],["id","email","name","email","type","email","required","","email","","placeholder","Entrez votre adresse email",1,"w-full","px-4","py-2","border","rounded-lg","outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","ngModelOptions"],["for","password",1,"block","text-gray-700","font-medium","mb-1"],["id","password","name","password","type","password","required","","minlength","6","placeholder","Choisissez un mot de passe",1,"w-full","px-4","py-2","border","rounded-lg","outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","ngModelOptions"],["for","confirmPassword",1,"block","text-gray-700","font-medium","mb-1"],["id","confirmPassword","name","confirmPassword","type","password","required","","placeholder","R\xE9p\xE9tez votre mot de passe",1,"w-full","px-4","py-2","border","rounded-lg","outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"w-full","bg-indigo-600","hover:bg-indigo-700","text-white","py-2","rounded-lg","font-semibold","transition",3,"disabled"],[1,"text-center","text-sm","text-gray-600","mt-4"],["routerLink","/login",1,"text-indigo-600","font-semibold","hover:underline"],[1,"text-red-500","text-sm"]],template:function(h,t){if(h&1){let r=x();n(0,"div",1)(1,"button",2),E(),n(2,"svg",3),C(3,"path",4),e(),o(4," Retour \xE0 l\u2019accueil "),e(),v(),n(5,"div",5)(6,"h2",6),o(7," Inscription "),e(),n(8,"p",7),o(9," Cr\xE9ez un compte pour rejoindre la communaut\xE9 \u{1F30D} "),e(),n(10,"form",8,0),L("ngSubmit",function(){return d(r),p(t.onSignup())}),n(12,"div")(13,"label",9),o(14,"Pr\xE9nom"),e(),n(15,"input",10),f("ngModelChange",function(i){return d(r),c(t.prenom,i)||(t.prenom=i),p(i)}),e(),u(16,K,2,0,"p",11),e(),n(17,"div")(18,"label",12),o(19,"Nom"),e(),n(20,"input",13),f("ngModelChange",function(i){return d(r),c(t.nom,i)||(t.nom=i),p(i)}),e(),u(21,Q,2,0,"p",11),e(),n(22,"div")(23,"label",14),o(24,"Email"),e(),n(25,"input",15),f("ngModelChange",function(i){return d(r),c(t.email,i)||(t.email=i),p(i)}),e(),u(26,X,2,0,"p",11),e(),n(27,"div")(28,"label",16),o(29,"Mot de passe"),e(),n(30,"input",17),f("ngModelChange",function(i){return d(r),c(t.password,i)||(t.password=i),p(i)}),e(),u(31,Y,2,0,"p",11),e(),n(32,"div")(33,"label",18),o(34,"Confirmer le mot de passe"),e(),n(35,"input",19),f("ngModelChange",function(i){return d(r),c(t.confirmPassword,i)||(t.confirmPassword=i),p(i)}),e(),u(36,Z,2,0,"p",11),e(),n(37,"button",20),o(38),e()(),n(39,"p",21),o(40," D\xE9j\xE0 inscrit ? "),n(41,"a",22),o(42," Connectez-vous ! "),e()()()()}if(h&2){let r=V(11);l(15),g("ngModel",t.prenom),m("ngModelOptions",w(17,y)),l(),m("ngIf",t.formSubmitted&&(r.controls.prenom==null?null:r.controls.prenom.invalid)),l(4),g("ngModel",t.nom),m("ngModelOptions",w(18,y)),l(),m("ngIf",t.formSubmitted&&(r.controls.nom==null?null:r.controls.nom.invalid)),l(4),g("ngModel",t.email),m("ngModelOptions",w(19,y)),l(),m("ngIf",t.formSubmitted&&(r.controls.email==null?null:r.controls.email.invalid)),l(4),g("ngModel",t.password),m("ngModelOptions",w(20,y)),l(),m("ngIf",t.formSubmitted&&(r.controls.password==null?null:r.controls.password.invalid)),l(4),g("ngModel",t.confirmPassword),m("ngModelOptions",w(21,y)),l(),m("ngIf",t.formSubmitted&&!t.passwordsMatch()),l(),m("disabled",r.invalid||t.isLoading),l(),P(" ",t.isLoading?"Cr\xE9ation du compte...":"S'inscrire"," ")}},dependencies:[k,F,A,q,O,z,j,B,G,U,R,D,N,I]})};export{J as SignupComponent};
