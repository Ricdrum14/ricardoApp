import{$ as He,A as o,Aa as Je,B as i,C as c,D as we,E as Ce,Ea as ae,F as _,Fa as se,G as m,Ga as ue,H as p,Ha as W,I as Ve,Ia as de,J as Le,K as Ae,L as z,M as a,N as w,O as E,P as L,Q as A,R as N,S as C,T as ye,U as $,V as q,W as Ne,X as Z,Y as G,Z as je,_ as J,a as H,aa as y,b as ke,ba as Ue,c as U,ca as X,d as Y,da as P,e as De,ea as Re,f as R,fa as Be,g as _e,ga as ze,h as F,ha as $e,i as B,ia as ee,j as Me,ja as te,k as ve,ka as qe,l as Ie,la as Ge,m as Fe,ma as We,n as v,na as Qe,o as Te,oa as k,p as g,pa as x,q as f,qa as D,r as K,ra as ie,s as Oe,t as V,ta as ne,u as S,ua as oe,v as s,va as Ye,w as b,wa as re,x as h,xa as le,y as d,ya as Ke,z as be,za as Ze}from"./chunk-VOJA64NU.js";var Xe=()=>({exact:!0}),lt=r=>({"rotate-180":r});function at(r,t){if(r&1){let e=_();o(0,"div",24),c(1,"div",25),o(2,"a",26),m("click",function(){g(e);let l=p(2);return f(l.isMenuOpen=!1)}),c(3,"img",27),o(4,"span"),a(5,"Mon compte"),i()(),o(6,"button",28),m("click",function(){g(e);let l=p(2);return l.logout(),f(l.isMenuOpen=!1)}),c(7,"img",29),o(8,"span"),a(9,"D\xE9connexion"),i()()()}}function st(r,t){if(r&1){let e=_();o(0,"div",17),m("keydown.escape",function(){g(e);let l=p();return f(l.isMenuOpen=!1)}),o(1,"div",18),m("click",function(){g(e);let l=p();return f(l.toggleMenu())}),c(2,"img",19),o(3,"span",20),a(4),i(),K(),o(5,"svg",21),c(6,"path",22),i()(),h(7,at,10,0,"div",23),i()}if(r&2){let e=p();s(2),d("src","https://api.dicebear.com/8.x/initials/svg?seed="+e.user.prenom+" "+e.user.nom,S),s(2),E(" ",e.user.prenom," ",e.user.nom," "),s(),d("ngClass",$(5,lt,e.isMenuOpen)),s(2),d("ngIf",e.isMenuOpen)}}function ut(r,t){if(r&1){let e=_();o(0,"button",30),m("click",function(){g(e);let l=p();return f(l.goLogin())}),a(1," Se Connecter "),i()}}function dt(r,t){if(r&1){let e=_();o(0,"div",38),c(1,"img",39),o(2,"p",40),a(3),i(),o(4,"a",41),m("click",function(){g(e);let l=p(2);return f(l.isMenuOpen=!1)}),a(5," Mon compte "),i(),o(6,"button",42),m("click",function(){g(e);let l=p(2);return f(l.logout())}),a(7," D\xE9connexion "),i()()}if(r&2){let e=p(2);s(),d("src","https://api.dicebear.com/8.x/initials/svg?seed="+e.user.prenom,S),s(2),E(" ",e.user.prenom," ",e.user.nom," ")}}function mt(r,t){if(r&1){let e=_();o(0,"button",43),m("click",function(){g(e);let l=p(2);return f(l.goLogin())}),a(1," Se Connecter "),i(),o(2,"button",44),m("click",function(){g(e);let l=p(2);return f(l.goSignup())}),a(3," Cr\xE9er un compte "),i()}}function pt(r,t){if(r&1){let e=_();o(0,"div",31)(1,"nav",32)(2,"a",33),m("click",function(){g(e);let l=p();return f(l.navigateHome())}),a(3," Accueil "),i(),o(4,"button",34),m("click",function(){g(e);let l=p();return f(l.declarePollution())}),a(5," D\xE9clarer "),i(),o(6,"a",35),a(7," Carte "),i(),o(8,"a",36),a(9," Statistiques "),i(),h(10,dt,8,3,"div",37)(11,mt,4,0,"ng-template",null,1,G),i()()}if(r&2){let e=z(12),n=p();s(2),d("routerLinkActiveOptions",ye(5,Xe)),s(2),be("active-action",n.declareActive),s(6),d("ngIf",n.user)("ngIfElse",e)}}var me=class r{constructor(t,e){this.router=t;this.utilisateurService=e}isMenuOpen=!1;searchQuery="";user=null;declareActive=!1;goHome=new V;openDeclareForm=new V;searchChanged=new V;ngOnInit(){this.utilisateurService.currentUser$.subscribe(t=>{this.user=t})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}onSearchChange(){this.searchChanged.emit(this.searchQuery.trim().toLowerCase())}goLogin(){return U(this,null,function*(){this.isMenuOpen=!1,yield this.router.navigate(["/login"])})}goSignup(){return U(this,null,function*(){this.isMenuOpen=!1,yield this.router.navigate(["/signup"])})}logout(){this.utilisateurService.logout()}navigateHome(){this.isMenuOpen=!1,this.goHome.emit()}declarePollution(){this.isMenuOpen=!1,this.openDeclareForm.emit()}static \u0275fac=function(e){return new(e||r)(b(ee),b(de))};static \u0275cmp=v({type:r,selectors:[["app-header"]],inputs:{declareActive:"declareActive"},outputs:{goHome:"goHome",openDeclareForm:"openDeclareForm",searchChanged:"searchChanged"},standalone:!0,features:[C],decls:26,vars:9,consts:[["notLogged",""],["mobileLogin",""],[1,"bg-gradient-to-r","from-blue-600","via-indigo-600","to-purple-600","shadow-lg","relative","z-50"],[1,"max-w-7xl","mx-auto","px-6","py-4","flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4","md:gap-6","transition-all","duration-300"],[1,"flex","justify-between","items-center","w-full","md:w-auto"],[1,"text-2xl","font-bold","text-white","tracking-wide","flex","items-center","gap-2","cursor-pointer",3,"click"],[1,"md:hidden","text-white","text-3xl","focus:outline-none",3,"click"],[1,"relative","w-full","md:max-w-lg","order-3","md:order-none","mx-auto","md:mx-0","flex-shrink-0"],["type","text","placeholder","Rechercher une pollution...",1,"w-full","pl-10","pr-4","py-2","rounded-full","bg-white/95","text-gray-700","placeholder-gray-500","shadow-inner","focus:ring-2","focus:ring-green-400","outline-none","transition-all","duration-200",3,"ngModelChange","input","ngModel"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-500","text-lg"],[1,"hidden","md:flex","items-center","space-x-6"],["routerLink","/","routerLinkActive","active-link",1,"text-white","hover:text-gray-200","font-medium","transition",3,"routerLinkActiveOptions"],["type","button",1,"h","bg-transparent","over:text-gray-200","text-lg","font-medium","transition","cursor-pointer",3,"click"],["routerLink","/carte","routerLinkActive","active-link",1,"text-white","hover:text-gray-200","font-medium","transition"],["routerLink","/stats","routerLinkActive","active-link",1,"text-white","hover:text-gray-200","font-medium","transition"],["class","relative ml-3",3,"keydown.escape",4,"ngIf","ngIfElse"],["class","md:hidden bg-indigo-700 bg-opacity-95 backdrop-blur-sm text-white border-t border-indigo-500 transition-all duration-300 absolute top-full left-0 w-full z-50",4,"ngIf"],[1,"relative","ml-3",3,"keydown.escape"],[1,"flex","items-center","gap-3","bg-white/15","px-5","py-2","rounded-full","backdrop-blur-md","shadow-sm","border","border-white/30","cursor-pointer","select-none","hover:bg-white/25","transition",3,"click"],["alt","Avatar",1,"w-9","h-9","rounded-full","border","border-white","shadow-sm","flex-shrink-0",3,"src"],[1,"text-white","font-medium","text-sm","tracking-wide"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","text-white","transition-transform","duration-200",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute right-0 mt-3 w-48 bg-white rounded-xl shadow-xl border border-gray-200 z-50 origin-top-right animate-fadeIn",4,"ngIf"],[1,"absolute","right-0","mt-3","w-48","bg-white","rounded-xl","shadow-xl","border","border-gray-200","z-50","origin-top-right","animate-fadeIn"],[1,"absolute","-top-2","right-6","w-3","h-3","bg-white","rotate-45","border-l","border-t","border-gray-200"],["routerLink","/profil",1,"menu-link","account","px-4","py-2","rounded-t-xl",3,"click"],["src","assets/images/connecte.svg","alt","Ic\xF4ne utilisateur connect\xE9",1,"w-5","h-5"],[1,"menu-link","logout","w-full","text-left","px-4","py-2","rounded-b-xl",3,"click"],["src","assets/images/deconnecte.svg","alt","Ic\xF4ne d\xE9connexion",1,"w-5","h-5"],[1,"btn-login",3,"click"],[1,"md:hidden","bg-indigo-700","bg-opacity-95","backdrop-blur-sm","text-white","border-t","border-indigo-500","transition-all","duration-300","absolute","top-full","left-0","w-full","z-50"],[1,"flex","flex-col","items-center","py-4","space-y-3"],["routerLink","/","routerLinkActive","active-link",1,"hover:text-gray-200","text-lg","font-medium","transition","cursor-pointer",3,"click","routerLinkActiveOptions"],["type","button",1,"text-white","hover:text-gray-200","font-medium","transition","cursor-pointer",3,"click"],["routerLink","/carte","routerLinkActive","active-link",1,"hover:text-gray-200","text-lg","font-medium","transition"],["routerLink","/stats","routerLinkActive","active-link",1,"hover:text-gray-200","text-lg","font-medium","transition"],["class","flex flex-col items-center gap-3 mt-3",4,"ngIf","ngIfElse"],[1,"flex","flex-col","items-center","gap-3","mt-3"],["alt","Avatar",1,"w-12","h-12","rounded-full","border","border-white","shadow-md",3,"src"],[1,"text-sm","text-gray-100","font-medium","uppercase","tracking-wide"],["routerLink","/profil",1,"bg-white","text-indigo-700","font-semibold","px-5","py-2","rounded-lg","shadow","hover:bg-gray-100","transition","w-40","text-center",3,"click"],[1,"bg-red-500","hover:bg-red-600","text-white","font-semibold","px-5","py-2","rounded-lg","shadow","transition","w-40",3,"click"],[1,"bg-white","text-indigo-700","font-semibold","px-5","py-2","rounded-lg","shadow","hover:bg-gray-100","transition","w-40",3,"click"],[1,"text-white/90","hover:text-white","underline","underline-offset-4",3,"click"]],template:function(e,n){if(e&1){let l=_();o(0,"header",2)(1,"div",3)(2,"div",4)(3,"h1",5),m("click",function(){return g(l),f(n.navigateHome())}),a(4," \u{1F30D} "),o(5,"span"),a(6,"Pollution Tracker"),i()(),o(7,"button",6),m("click",function(){return g(l),f(n.toggleMenu())}),a(8),i()(),o(9,"div",7)(10,"input",8),N("ngModelChange",function(I){return g(l),A(n.searchQuery,I)||(n.searchQuery=I),f(I)}),m("input",function(){return g(l),f(n.onSearchChange())}),i(),o(11,"span",9),a(12,"\u{1F50D}"),i()(),o(13,"nav",10)(14,"a",11),a(15," Accueil "),i(),o(16,"button",12),m("click",function(){return g(l),f(n.declarePollution())}),a(17," D\xE9clarer "),i(),o(18,"a",13),a(19," Carte "),i(),o(20,"a",14),a(21," Statistiques "),i(),h(22,st,8,7,"div",15)(23,ut,2,0,"ng-template",null,0,G),i()(),h(25,pt,13,6,"div",16),i()}if(e&2){let l=z(24);s(8),w(" ",n.isMenuOpen?"\u2716":"\u2630"," "),s(2),L("ngModel",n.searchQuery),s(4),d("routerLinkActiveOptions",ye(8,Xe)),s(2),be("active-action",n.declareActive),s(6),d("ngIf",n.user)("ngIfElse",l),s(3),d("ngIf",n.isMenuOpen)}},dependencies:[P,J,y,se,k,D,ne,We,te,qe],styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95) translateY(-5px)}to{opacity:1;transform:scale(1) translateY(0)}}.animate-fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .15s ease-out}img[_ngcontent-%COMP%]{transition:transform .2s ease,opacity .2s ease}a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);opacity:.9}.menu-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;transition:all .2s ease}.menu-link.account[_ngcontent-%COMP%]{color:#4f46e5}.menu-link.account[_ngcontent-%COMP%]:hover{background-color:#eef2ff;color:#4338ca;transform:scale(1.03)}.menu-link.logout[_ngcontent-%COMP%]{color:#dc2626}.menu-link.logout[_ngcontent-%COMP%]:hover{background-color:#fef2f2;color:#b91c1c;transform:scale(1.03)}.menu-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .25s ease,opacity .25s ease}.menu-link[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.15);opacity:.9}.active-link[_ngcontent-%COMP%], .active-action[_ngcontent-%COMP%]{color:#fde047;font-weight:600;text-shadow:0 0 6px rgba(253,224,71,.6)}button[_ngcontent-%COMP%]:not(.menu-link){color:#fff;background:transparent;border:none;outline:none}button[_ngcontent-%COMP%]:hover{color:#e5e7eb}.btn-login[_ngcontent-%COMP%]{background-color:#fff;color:#2563eb;font-weight:600;padding:.5rem 1rem;border-radius:.5rem;box-shadow:0 0 8px #fff6;transition:all .3s ease}.btn-login[_ngcontent-%COMP%]:hover{background-color:#f0f9ff;color:#1e3a8a;transform:translateY(-2px) scale(1.05);box-shadow:0 0 15px #3b82f6b3,0 0 30px #3b82f666}"]})};var O=class{constructor(t,e,n,l,u,I,Ee,It,nt){this.titre=t;this.type=e;this.description=n;this.date=l;this.lieu=u;this.latitude=I;this.longitude=Ee;this.photo=It;this.id=nt||""}id};var M=class r{constructor(t){this.http=t}apiUrl=W.backendPollution;isMock=!W.production;localPollutions=[];pollutionsSubject=new De([]);pollutions$=this.pollutionsSubject.asObservable();handleError(t,e){return console.error("Une erreur s'est produite:",t),_e(()=>new Error(e))}getPollutions(){return this.localPollutions.length===0?this.http.get(this.apiUrl).pipe(F(t=>t.map(e=>new O(e.titre,e.type_pollution||e.type,e.description,new Date(e.date_observation||e.date),e.lieu,e.latitude,e.longitude,e.photo_url||e.photo,e.id))),ve(t=>{this.localPollutions=t,this.pollutionsSubject.next(t)})):this.pollutions$}getPollutionById(t){if(this.isMock){let e=this.localPollutions.find(n=>n.id===t);return e?R(e):_e(()=>new Error("Pollution non trouv\xE9e"))}else return this.http.get(`${this.apiUrl}/${t}`).pipe(F(e=>{if(!e)throw new Error("Pollution non trouv\xE9e");return new O(e.titre,e.type_pollution||e.type,e.description,new Date(e.date_observation||e.date),e.lieu,e.latitude,e.longitude,e.photo_url||e.photo,e.id)}),B(e=>this.handleError(e,"Impossible de r\xE9cup\xE9rer la pollution.")))}addPollution(t){let e=typeof t.photo=="string"&&t.photo.startsWith("data:"),n={titre:t.titre,lieu:t.lieu,date_observation:new Date(t.date).toISOString(),type_pollution:t.type,description:t.description,latitude:t.latitude,longitude:t.longitude,photo_url:e?null:t.photo};return this.isMock?(this.localPollutions.push(t),this.pollutionsSubject.next([...this.localPollutions]),console.log("\u2705 Pollution ajout\xE9e (mock) :",t),R(t)):this.http.post(this.apiUrl,n).pipe(F(l=>{let u=new O(l.titre,l.type_pollution||l.type,l.description,new Date(l.date_observation||l.date),l.lieu,l.latitude,l.longitude,l.photo_url||l.photo,l.id);return this.localPollutions.push(u),this.pollutionsSubject.next([...this.localPollutions]),u}),B(l=>this.handleError(l,"Erreur lors de la cr\xE9ation de la pollution.")))}updatePollution(t){if(this.isMock){let e=this.localPollutions.findIndex(n=>n.id===t.id);return e!==-1&&(this.localPollutions[e]=t),this.pollutionsSubject.next([...this.localPollutions]),R(t)}else{let e={titre:t.titre,lieu:t.lieu,date_observation:new Date(t.date).toISOString(),type_pollution:t.type,description:t.description,latitude:t.latitude,longitude:t.longitude,photo_url:typeof t.photo=="string"&&t.photo.startsWith("data:")?null:t.photo};return this.http.put(`${this.apiUrl}/${t.id}`,e).pipe(F(n=>{let l=n.data||n,u=new O(l.titre,l.type_pollution||l.type,l.description,new Date(l.date_observation||l.date),l.lieu,l.latitude,l.longitude,l.photo_url||l.photo,l.id),I=this.localPollutions.findIndex(Ee=>Ee.id===u.id);return I!==-1?this.localPollutions[I]=u:this.localPollutions.push(u),this.pollutionsSubject.next([...this.localPollutions]),u}),B(n=>this.handleError(n,"Erreur lors de la mise \xE0 jour de la pollution.")))}}deletePollution(t){return this.isMock?(this.localPollutions=this.localPollutions.filter(e=>e.id!==t),this.pollutionsSubject.next([...this.localPollutions]),R({message:"La pollution a \xE9t\xE9 supprim\xE9e avec succ\xE8s."})):this.http.delete(`${this.apiUrl}/${t}`).pipe(ve(()=>{this.localPollutions=this.localPollutions.filter(e=>e.id!==t),this.pollutionsSubject.next([...this.localPollutions])}),B(e=>this.handleError(e,"Impossible de supprimer la pollution.")))}static \u0275fac=function(e){return new(e||r)(Fe(Re))};static \u0275prov=Ie({token:r,factory:r.\u0275fac,providedIn:"root"})};function ct(r,t){if(r&1){let e=_();o(0,"div",11)(1,"form",12),m("ngSubmit",function(){g(e);let l=p();return f(l.saveChanges())}),o(2,"div",13)(3,"div")(4,"label",14),a(5,"Titre"),i(),c(6,"input",15),i(),o(7,"div")(8,"label",14),a(9,"Type"),i(),c(10,"input",16),i()(),o(11,"div")(12,"label",14),a(13,"Description"),i(),c(14,"textarea",17),i(),o(15,"div",13)(16,"div")(17,"label",14),a(18,"Latitude"),i(),c(19,"input",18),i(),o(20,"div")(21,"label",14),a(22,"Longitude"),i(),c(23,"input",19),i()(),o(24,"button",20),a(25," \u{1F4BE} Enregistrer "),i()()()}if(r&2){let e=p();s(),d("formGroup",e.form)}}var pe=class r{constructor(t,e){this.fb=t;this.pollutionService=e}_pollution;set pollution(t){this._pollution=t,this.form&&t&&this.updateForm(t)}get pollution(){return this._pollution}editMode=!1;form;destroy$=new Y;successMessage="";ngOnInit(){this.initForm()}initForm(){this.form=this.fb.group({titre:[this.pollution.titre],type:[this.pollution.type],description:[this.pollution.description],date:[this.pollution.date],lieu:[this.pollution.lieu],latitude:[this.pollution.latitude],longitude:[this.pollution.longitude],photo:[this.pollution.photo]})}updateForm(t){this.form?this.form.patchValue({titre:t.titre,type:t.type,description:t.description,date:t.date,lieu:t.lieu,latitude:t.latitude,longitude:t.longitude,photo:t.photo}):this.initForm()}toggleEdit(){this.editMode=!this.editMode,this.successMessage=""}saveChanges(){let t=H(H({},this.pollution),this.form.value);this.pollutionService.updatePollution(t).pipe(Me(this.destroy$)).subscribe({next:e=>{this.pollution=e,this.form.patchValue(e),this.editMode=!1,this.successMessage="\u2705 Pollution mise \xE0 jour avec succ\xE8s !",setTimeout(()=>this.successMessage="",3e3)},error:e=>console.error("Erreur lors de la mise \xE0 jour :",e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||r)(b(ae),b(M))};static \u0275cmp=v({type:r,selectors:[["app-pollution-details"]],inputs:{pollution:"pollution"},standalone:!0,features:[C],decls:17,vars:13,consts:[[1,"max-w-3xl","mx-auto","bg-white","rounded-2xl","shadow-lg","p-6"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"w-full","md:w-1/2","h-64","object-cover","rounded-xl","shadow",3,"src","alt"],[1,"flex-1"],[1,"text-2xl","font-bold","text-indigo-700","mb-2"],[1,"text-sm","text-gray-500","mb-2"],[1,"text-gray-600","mb-3"],[1,"text-sm","text-gray-400","italic","mb-4"],[1,"flex","gap-3"],[1,"bg-indigo-600","text-white","px-4","py-2","rounded-lg","hover:bg-indigo-700","transition",3,"click"],["class","mt-6 border-t pt-4",4,"ngIf"],[1,"mt-6","border-t","pt-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"grid","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-semibold","text-indigo-700"],["formControlName","titre",1,"border","p-2","rounded","w-full"],["formControlName","type",1,"border","p-2","rounded","w-full"],["formControlName","description","rows","3",1,"border","p-2","rounded","w-full"],["formControlName","latitude",1,"border","p-2","rounded","w-full"],["formControlName","longitude",1,"border","p-2","rounded","w-full"],["type","submit",1,"bg-green-600","text-white","px-4","py-2","rounded-lg","hover:bg-green-700","transition"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1),c(2,"img",2),o(3,"div",3)(4,"h2",4),a(5),i(),o(6,"p",5),a(7),q(8,"date"),i(),o(9,"p",6),a(10),i(),o(11,"p",7),a(12),i(),o(13,"div",8)(14,"button",9),m("click",function(){return n.toggleEdit()}),a(15),i()()()(),h(16,ct,26,1,"div",10),i()),e&2&&(s(2),d("src",n.pollution.photo,S)("alt",n.pollution.titre),s(3),w(" ",n.pollution.titre," "),s(2),E(" \u{1F4CD} ",n.pollution.lieu," \u2014 ",Z(8,10,n.pollution.date,"dd MMM yyyy")," "),s(3),w(" ",n.pollution.description," "),s(2),E(" Lat: ",n.pollution.latitude," / Long: ",n.pollution.longitude," "),s(3),w(" ",n.editMode?"\u{1F9FD} Annuler":" \u270F\uFE0F Modifier"," "),s(),d("ngIf",n.editMode))},dependencies:[P,y,X,ue,oe,k,D,ie,re,le]})};function gt(r,t){r&1&&(o(0,"div",6),a(1," Chargement des donn\xE9es en cours... "),i())}function ft(r,t){if(r&1&&c(0,"app-pollution-details",7),r&2){let e=p();d("pollution",e.selectedPollution)}}function ht(r,t){if(r&1){let e=_();o(0,"div",8)(1,"button",9),m("click",function(){g(e);let l=p();return f(l.closeDetails())}),a(2," \u2190 Retour \xE0 la liste "),i()()}}function xt(r,t){if(r&1){let e=_();o(0,"div",14)(1,"div",15),c(2,"img",16)(3,"div",17),i(),o(4,"div",18)(5,"h3",19),a(6),i(),o(7,"p",20),a(8),q(9,"date"),i(),o(10,"p",21),a(11),i(),o(12,"p",22),a(13),i(),o(14,"div",23)(15,"button",24),m("click",function(){let l=g(e).$implicit,u=p(3);return f(u.viewDetails(l))}),a(16," Voir plus \u2192 "),i(),o(17,"button",25),m("click",function(){let l=g(e).$implicit,u=p(3);return f(u.deletePollution(l.id))}),a(18," \u{1F5D1}\uFE0F Supprimer "),i()()()()}if(r&2){let e=t.$implicit;s(2),d("src",e.photo,S)("alt",e.titre)("title","Photo de la pollution : "+e.titre),s(4),w(" ",e.titre," "),s(2),E(" \u{1F4CD} ",e.lieu," \u2014 ",Z(9,9,e.date,"dd MMM yyyy")," "),s(3),w(" ",e.description," "),s(2),E(" Lat: ",e.latitude," / Long: ",e.longitude," ")}}function _t(r,t){if(r&1){let e=_();o(0,"div",26)(1,"button",27),m("click",function(){g(e);let l=p(3);return f(l.toggleView())}),a(2),i()()}if(r&2){let e=p(3);s(2),w(" ",e.showAll?"Voir moins \u2191":"Voir plus \u2193"," ")}}function vt(r,t){if(r&1&&(we(0),o(1,"div",11),h(2,xt,19,12,"div",12),i(),h(3,_t,3,1,"div",13),Ce()),r&2){let e=t.ngIf,n=p(2);s(2),d("ngForOf",n.showAll?e:e.slice(0,n.maxVisible)),s(),d("ngIf",e.length>n.maxVisible)}}function bt(r,t){r&1&&(o(0,"div",28),a(1," Aucune pollution signal\xE9e pour le moment \u{1F30D} "),i())}function wt(r,t){if(r&1&&(we(0),h(1,vt,4,2,"ng-container",10),q(2,"async"),h(3,bt,2,0,"ng-template",null,0,G),Ce()),r&2){let e=z(4),n=p();s(),d("ngIf",Ne(2,2,n.filteredPollutions$))("ngIfElse",e)}}var ce=class r{constructor(t){this.pollutionService=t}refreshTrigger=0;filterText="";pollutions$;loading=!0;selectedPollution;showAll=!1;maxVisible=4;destroy$=new Y;ngOnInit(){this.loadPollutions()}ngOnChanges(t){t.refreshTrigger&&!t.refreshTrigger.firstChange&&this.loadPollutions()}loadPollutions(){this.pollutions$=this.pollutionService.pollutions$,this.pollutionService.getPollutions().subscribe(()=>{this.loading=!1})}viewDetails(t){console.log("ID de la pollution:",t.id),this.loading=!0,this.pollutionService.getPollutionById(t.id).subscribe({next:e=>{console.log("D\xE9tails re\xE7us:",e),this.selectedPollution=e,this.loading=!1},error:e=>{console.error("Erreur lors du chargement des d\xE9tails:",e),this.loading=!1,alert("Impossible de charger les d\xE9tails de la pollution. "+e.message)}})}closeDetails(){this.selectedPollution=void 0}deletePollution(t){confirm("\u274C Voulez-vous vraiment supprimer cette pollution ?")&&this.pollutionService.deletePollution(t).subscribe(()=>{this.loadPollutions()})}toggleView(){this.showAll=!this.showAll}get filteredPollutions$(){return this.pollutions$.pipe(F(t=>t.filter(e=>e.titre.toLowerCase().includes(this.filterText)||e.lieu.toLowerCase().includes(this.filterText)||e.description.toLowerCase().includes(this.filterText))))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||r)(b(M))};static \u0275cmp=v({type:r,selectors:[["app-pollutions-list"]],inputs:{refreshTrigger:"refreshTrigger",filterText:"filterText"},standalone:!0,features:[Te,C],decls:5,vars:4,consts:[["noData",""],[1,"max-w-7xl","mx-auto","px-6","py-16"],["class","text-center text-gray-500 italic",4,"ngIf"],[3,"pollution",4,"ngIf"],["class","text-center mt-6",4,"ngIf"],[4,"ngIf"],[1,"text-center","text-gray-500","italic"],[3,"pollution"],[1,"text-center","mt-6"],[1,"bg-gray-200","px-4","py-2","rounded-lg","text-gray-700","hover:bg-gray-300","transition",3,"click"],[4,"ngIf","ngIfElse"],[1,"grid","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-10"],["class","bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden group",4,"ngFor","ngForOf"],["class","text-center mt-10",4,"ngIf"],[1,"bg-white","rounded-2xl","shadow-md","hover:shadow-xl","transition-shadow","duration-300","overflow-hidden","group"],[1,"relative"],["onerror","this.src='assets/images/default-pollution.jpg'; this.onerror=null;",1,"w-full","h-40","object-cover","group-hover:scale-105","transition-transform","duration-500",3,"src","alt","title"],[1,"absolute","inset-0","bg-black/20","opacity-0","group-hover:opacity-100","transition-opacity","duration-500"],[1,"p-5"],[1,"text-lg","font-bold","text-indigo-700","mb-1","truncate"],[1,"text-xs","text-gray-500","mb-2","flex","items-center","gap-1"],[1,"text-gray-600","text-sm","mb-3","line-clamp-2"],[1,"text-xs","text-gray-400","mb-3","italic"],[1,"flex","justify-between","items-center"],[1,"text-sm","font-medium","text-indigo-600","hover:text-indigo-800","transition",3,"click"],[1,"text-sm","font-medium","text-red-500","hover:text-red-700","transition",3,"click"],[1,"text-center","mt-10"],[1,"bg-indigo-600","text-white","px-6","py-2","rounded-lg","shadow","hover:bg-indigo-700","transition",3,"click"],[1,"text-gray-400","text-center","mt-12","text-lg"]],template:function(e,n){e&1&&(o(0,"div",1),h(1,gt,2,0,"div",2)(2,ft,1,1,"app-pollution-details",3)(3,ht,3,0,"div",4)(4,wt,5,4,"ng-container",5),i()),e&2&&(s(),d("ngIf",n.loading),s(),d("ngIf",n.selectedPollution),s(),d("ngIf",n.selectedPollution),s(),d("ngIf",!n.selectedPollution&&!n.loading))},dependencies:[P,He,y,Ue,X,pe]})};var et=r=>({"border-red-500":r});function Ct(r,t){r&1&&(o(0,"span"),a(1,"\u26A0\uFE0F Le titre est requis."),i())}function yt(r,t){r&1&&(o(0,"span"),a(1,"\u26A0\uFE0F Minimum 3 caract\xE8res."),i())}function Pt(r,t){if(r&1&&(o(0,"p",35),h(1,Ct,2,0,"span",36)(2,yt,2,0,"span",36),i()),r&2){let e=p();s(),d("ngIf",e.f.titre.errors==null?null:e.f.titre.errors.required),s(),d("ngIf",e.f.titre.errors==null?null:e.f.titre.errors.minlength)}}function St(r,t){if(r&1&&(o(0,"div",37)(1,"p",38),a(2,"Aper\xE7u :"),i(),c(3,"img",39),i()),r&2){let e=p();s(3),d("src",e.photoPreview,S)}}var ge=class r{constructor(t,e){this.fb=t;this.pollutionService=e}pollutionAdded=new V;pollutionForm;photoPreview=null;successMessage="";formSubmitted=!1;ngOnInit(){this.pollutionForm=this.fb.group({titre:["",[x.required,x.minLength(3),x.maxLength(100)]],type:["",[x.required]],description:["",[x.required,x.minLength(10),x.maxLength(500)]],date:["",[x.required]],lieu:["",[x.required,x.minLength(3),x.maxLength(200)]],latitude:["",[x.pattern(/^[-+]?[0-9]*\.?[0-9]+$/),x.required,x.min(-90),x.max(90)]],longitude:["",[x.pattern(/^[-+]?[0-9]*\.?[0-9]+$/),x.required,x.min(-180),x.max(180)]],photo:[""]})}get f(){return this.pollutionForm.controls}sendForm(){if(this.pollutionForm.invalid)return;let t=this.pollutionForm.value,e=typeof this.photoPreview=="string"&&this.photoPreview.startsWith("data:"),n=W.production&&e?null:this.photoPreview||t.photo,l=ke(H({},t),{id:crypto.randomUUID().substring(0,8),date:new Date(t.date),photo:n});this.pollutionService.addPollution(l).subscribe({next:u=>{console.log("\u2705 Pollution ajout\xE9e :",u),this.pollutionAdded.emit(`\u2705 Pollution "${u.titre}" d\xE9clar\xE9e avec succ\xE8s !`),this.pollutionForm.reset(),this.photoPreview=null},error:u=>console.error("Erreur ajout pollution",u)})}onPhotoSelected(t){let e=t.target.files[0];if(!e)return;let n=new FileReader;n.onload=()=>{this.photoPreview=n.result,this.pollutionForm.patchValue({photo:this.photoPreview})},n.readAsDataURL(e)}static \u0275fac=function(e){return new(e||r)(b(ae),b(M))};static \u0275cmp=v({type:r,selectors:[["app-pollutions-form"]],outputs:{pollutionAdded:"pollutionAdded"},standalone:!0,features:[C],decls:64,vars:10,consts:[[1,"max-w-xl","mx-auto","p-6","sm:p-8","bg-white","rounded-2xl","shadow-xl","space-y-6","border","border-gray-100","transition-all","duration-300",3,"ngSubmit","formGroup"],[1,"text-2xl","font-bold","text-center","text-indigo-700"],[1,"text-center","text-gray-500","text-sm","mb-4"],["for","titre",1,"block","text-sm","font-semibold","text-indigo-700"],["id","titre","type","text","formControlName","titre",1,"mt-1","w-full","px-3","py-2","border","rounded-lg","shadow-sm","focus:border-indigo-500","focus:ring-2","focus:ring-indigo-300","outline-none","transition",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","type",1,"block","text-sm","font-semibold","text-indigo-700"],["id","type","formControlName","type",1,"mt-1","w-full","px-3","py-2","border","rounded-lg","shadow-sm","focus:border-indigo-500","focus:ring-2","focus:ring-indigo-300","outline-none","transition",3,"ngClass"],["value",""],["value","Plastique"],["value","Chimique"],["value","D\xE9p\xF4t sauvage"],["value","Eau"],["value","Air"],["value","Autre"],["for","description",1,"block","text-sm","font-semibold","text-indigo-700"],["id","description","formControlName","description","rows","4",1,"mt-1","w-full","px-3","py-2","border","rounded-lg","shadow-sm","focus:border-indigo-500","focus:ring-2","focus:ring-indigo-300","outline-none","transition"],["for","date",1,"block","text-sm","font-semibold","text-indigo-700"],["id","date","type","date","formControlName","date",1,"mt-1","w-full","px-3","py-2","border","rounded-lg","shadow-sm","focus:border-indigo-500","focus:ring-2","focus:ring-indigo-300","outline-none","transition"],["for","lieu",1,"block","text-sm","font-semibold","text-indigo-700"],["id","lieu","type","text","formControlName","lieu",1,"mt-1","w-full","px-3","py-2","border","rounded-lg","shadow-sm","focus:border-indigo-500","focus:ring-2","focus:ring-indigo-300","outline-none","transition"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","latitude",1,"block","text-sm","font-semibold","text-indigo-700"],["id","latitude","type","number","step","any","formControlName","latitude",1,"mt-1","w-full","px-3","py-2","border","rounded-lg","shadow-sm","focus:border-indigo-500","focus:ring-2","focus:ring-indigo-300","outline-none","transition"],["for","longitude",1,"block","text-sm","font-semibold","text-indigo-700"],["id","longitude","type","number","step","any","formControlName","longitude",1,"mt-1","w-full","px-3","py-2","border","rounded-lg","shadow-sm","focus:border-indigo-500","focus:ring-2","focus:ring-indigo-300","outline-none","transition"],[1,"block","text-sm","font-semibold","text-indigo-700","mb-2"],["type","url","formControlName","photo","placeholder","https://...",1,"block","w-full","text-sm","text-gray-700","border","border-gray-300","rounded-lg","p-2","focus:ring-2","focus:ring-indigo-400","outline-none","transition","mb-3"],[1,"flex","flex-col","sm:flex-row","gap-3"],[1,"flex-1","cursor-pointer","bg-gradient-to-r","from-indigo-600","to-blue-500","text-white","text-center","py-2","rounded-xl","shadow-lg","hover:scale-[1.02]","transition-transform"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"flex-1","cursor-pointer","bg-gradient-to-r","from-green-600","to-teal-500","text-white","text-center","py-2","rounded-xl","shadow-lg","hover:scale-[1.02]","transition-transform"],["type","file","accept","image/*","capture","environment",1,"hidden",3,"change"],["class","mt-4 text-center",4,"ngIf"],["type","submit",1,"w-full","bg-gradient-to-r","from-blue-600","via-indigo-600","to-purple-600","text-white","font-semibold","py-3","px-4","rounded-xl","shadow-lg","hover:opacity-90","focus:outline-none","focus:ring-2","focus:ring-indigo-400","transition","disabled:opacity-60","disabled:cursor-not-allowed",3,"disabled"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"mt-4","text-center"],[1,"text-sm","text-gray-500","mb-1"],["alt","Pr\xE9visualisation",1,"w-full","h-48","object-cover","rounded-lg","shadow-md","border","border-gray-200",3,"src"]],template:function(e,n){e&1&&(o(0,"form",0),m("ngSubmit",function(){return n.sendForm()}),o(1,"h2",1),a(2,"D\xE9clarer une pollution \u{1F30D}"),i(),o(3,"p",2),a(4," Merci de nous aider \xE0 signaler une pollution et prot\xE9ger l\u2019environnement "),i(),o(5,"div")(6,"label",3),a(7,"Titre"),i(),c(8,"input",4),h(9,Pt,3,2,"p",5),i(),o(10,"div")(11,"label",6),a(12,"Type"),i(),o(13,"select",7)(14,"option",8),a(15,"-- S\xE9lectionnez --"),i(),o(16,"option",9),a(17,"Plastique"),i(),o(18,"option",10),a(19,"Chimique"),i(),o(20,"option",11),a(21,"D\xE9p\xF4t sauvage"),i(),o(22,"option",12),a(23,"Eau"),i(),o(24,"option",13),a(25,"Air"),i(),o(26,"option",14),a(27,"Autre"),i()()(),o(28,"div")(29,"label",15),a(30,"Description"),i(),c(31,"textarea",16),i(),o(32,"div")(33,"label",17),a(34,"Date"),i(),c(35,"input",18),i(),o(36,"div")(37,"label",19),a(38,"Lieu"),i(),c(39,"input",20),i(),o(40,"div",21)(41,"div")(42,"label",22),a(43,"Latitude"),i(),c(44,"input",23),i(),o(45,"div")(46,"label",24),a(47,"Longitude"),i(),c(48,"input",25),i()(),o(49,"div")(50,"label",26),a(51,"Photo"),i(),c(52,"input",27),o(53,"div",28)(54,"label",29),a(55," \u{1F4C1} Depuis l\u2019ordinateur "),o(56,"input",30),m("change",function(u){return n.onPhotoSelected(u)}),i()(),o(57,"label",31),a(58," \u{1F4F7} Prendre une photo "),o(59,"input",32),m("change",function(u){return n.onPhotoSelected(u)}),i()()(),h(60,St,4,1,"div",33),i(),o(61,"div")(62,"button",34),a(63," \u{1F680} D\xE9clarer "),i()()()),e&2&&(d("formGroup",n.pollutionForm),s(8),d("ngClass",$(6,et,n.f.titre.touched&&n.f.titre.invalid)),s(),d("ngIf",n.f.titre.touched&&n.f.titre.invalid),s(4),d("ngClass",$(8,et,n.f.type.touched&&n.f.type.invalid)),s(47),d("ngIf",n.photoPreview),s(2),d("disabled",n.pollutionForm.invalid))},dependencies:[ue,oe,Ze,Je,k,Ye,Ke,D,ie,re,le,P,J,y]})};var Et=["declareFormSection"];function kt(r,t){if(r&1&&(o(0,"div",21),a(1),i()),r&2){let e=p();s(),w(" ",e.successMessage,`
`)}}function Dt(r,t){if(r&1){let e=_();o(0,"section",16,0)(2,"div",22)(3,"app-pollutions-form",23),m("pollutionAdded",function(l){g(e);let u=p();return f(u.onPollutionAdded(l))}),i()()()}}var fe=class r{showForm=!1;successMessage="";refreshKey=0;searchText="";pendingScroll=!1;declareFormSection;toggleForm(){this.showForm=!this.showForm,this.showForm&&(this.pendingScroll=!0)}ngAfterViewChecked(){this.pendingScroll&&this.declareFormSection&&(this.declareFormSection.nativeElement.scrollIntoView({behavior:"smooth",block:"start"}),this.pendingScroll=!1)}onPollutionAdded(t){this.successMessage=t,this.refreshKey++,setTimeout(()=>{this.successMessage="",this.showForm=!1},3e3)}onSearchChanged(t){this.searchText=t}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}onGoHome(){this.showForm=!1,window.scrollTo({top:0,behavior:"smooth"})}onOpenDeclareForm(){this.showForm||(this.showForm=!0),setTimeout(()=>{this.declareFormSection?.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})},0)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-pollution"]],viewQuery:function(e,n){if(e&1&&Ve(Et,5),e&2){let l;Le(l=Ae())&&(n.declareFormSection=l.first)}},standalone:!0,features:[C],decls:27,vars:5,consts:[["declareFormSection",""],[1,"mb-1"],[3,"searchChanged","goHome","openDeclareForm","declareActive"],[1,"relative","w-full","bg-gradient-to-br","from-indigo-600","via-blue-600","to-green-500","text-white","py-20","md:py-28","overflow-hidden"],[1,"container","mx-auto","flex","flex-col","md:flex-row","items-center","justify-between","px-6","md:px-16"],[1,"max-w-lg","text-center","md:text-left","space-y-5","z-10"],[1,"text-4xl","md:text-5xl","font-extrabold","leading-tight","drop-shadow-lg"],[1,"block","md:inline","text-green-200"],[1,"text-gray-100","text-lg","max-w-md","mx-auto","md:mx-0"],[1,"mt-4","bg-white","text-indigo-700","font-semibold","px-6","py-3","rounded-lg","shadow-lg","transition-all","duration-300","ease-out","transform","hover:-translate-y-1","hover:scale-105","hover:bg-indigo-50","hover:text-indigo-800","hover:shadow-[0_0_20px_rgba(99,102,241,0.6)]","active:scale-95",3,"click"],[1,"relative","flex","justify-center","md:justify-end","w-full","md:w-1/2","mt-10","md:mt-0"],[1,"absolute","inset-0","bg-gradient-to-t","from-indigo-600/30","via-transparent","to-transparent","rounded-full","blur-3xl"],["src","assets/terre.png","alt","illustration pollution",1,"relative","z-10","max-h-[300px]","md:max-h-[380px]","object-contain","drop-shadow-2xl","rounded-2xl","bg-white/10","p-4","backdrop-blur-sm","transition-transform","duration-500","hover:scale-105"],[1,"absolute","bottom-0","left-0","w-full","h-24","bg-gradient-to-t","from-white","to-transparent"],["class","max-w-3xl mx-auto mt-10 px-6 py-4 bg-green-100 text-green-800 border border-green-300 rounded-lg text-center font-semibold shadow-md animate-fade-in-down",4,"ngIf"],["class","bg-gray-50 py-16",4,"ngIf"],[1,"bg-gray-50","py-16"],[1,"max-w-7xl","mx-auto","px-6"],[1,"text-2xl","md:text-3xl","font-extrabold","text-center","text-indigo-700","mb-12","flex","flex-col","items-center","justify-center","gap-2"],[1,"text-3xl","md:text-4xl"],[3,"refreshTrigger","filterText"],[1,"max-w-3xl","mx-auto","mt-10","px-6","py-4","bg-green-100","text-green-800","border","border-green-300","rounded-lg","text-center","font-semibold","shadow-md","animate-fade-in-down"],[1,"max-w-3xl","mx-auto","px-6","bg-white","rounded-2xl","shadow-md","p-8"],[3,"pollutionAdded"]],template:function(e,n){e&1&&(o(0,"div",1)(1,"app-header",2),m("searchChanged",function(u){return n.onSearchChanged(u)})("goHome",function(){return n.scrollToTop()})("openDeclareForm",function(){return n.onOpenDeclareForm()}),i()(),o(2,"section",3)(3,"div",4)(4,"div",5)(5,"h1",6),a(6," Prot\xE9geons notre "),o(7,"span",7),a(8,"plan\xE8te ensemble \u{1F30D}"),i()(),o(9,"p",8),a(10," Signalez, suivez et agissez contre les pollutions autour de vous. "),i(),o(11,"button",9),m("click",function(){return n.toggleForm()}),a(12," \u{1F680} D\xE9clarer une pollution "),i()(),o(13,"div",10),c(14,"div",11)(15,"img",12),i()(),c(16,"div",13),i(),h(17,kt,2,1,"div",14)(18,Dt,4,0,"section",15),o(19,"section",16)(20,"div",17)(21,"h2",18)(22,"span",19),a(23,"\u{1F33F}"),i(),o(24,"span"),a(25,"Derni\xE8res pollutions signal\xE9es"),i()(),c(26,"app-pollutions-list",20),i()()),e&2&&(s(),d("declareActive",n.showForm),s(16),d("ngIf",n.successMessage),s(),d("ngIf",n.showForm),s(8),d("refreshTrigger",n.refreshKey)("filterText",n.searchText))},dependencies:[me,ce,ge,P,y],styles:["section[ng-reflect-ng-if][_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-down[_ngcontent-%COMP%]{animation:fadeInDown .5s ease-out}"]})};function Mt(r,t){if(r&1&&(o(0,"p",17),a(1),i()),r&2){let e=p();s(),w(" ",e.message," ")}}var he=class r{constructor(t,e){this.utilisateurService=t;this.router=e}user;email="";mot_de_passe="";message="";showPassword=!1;ngOnInit(){this.user||(this.user=this.utilisateurService.getCurrentUser()),this.user?this.email=this.user.email:this.message="\u26A0\uFE0F Aucun utilisateur connect\xE9."}onUpdate(){if(!this.user){this.message="Utilisateur introuvable.";return}this.utilisateurService.updateUtilisateur(this.user.id,{email:this.email,mot_de_passe:this.mot_de_passe.trim()||void 0}).subscribe({next:()=>{this.message="\u2705 Profil mis \xE0 jour avec succ\xE8s.",this.mot_de_passe=""},error:t=>{this.message="\u274C Erreur lors de la mise \xE0 jour.",console.error(t)}})}onDelete(){if(!this.user){this.message="Utilisateur introuvable.";return}confirm("Voulez-vous vraiment supprimer votre compte ? Cette action est irr\xE9versible.")&&this.utilisateurService.deleteUtilisateur(this.user.id).subscribe({next:()=>U(this,null,function*(){alert("Compte supprim\xE9 avec succ\xE8s."),this.utilisateurService.logout(),yield this.router.navigate(["/login"])}),error:t=>{alert("Erreur lors de la suppression du compte."),console.error(t)}})}static \u0275fac=function(e){return new(e||r)(b(de),b(ee))};static \u0275cmp=v({type:r,selectors:[["app-profil"]],inputs:{user:"user"},standalone:!0,features:[C],decls:27,vars:5,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gradient-to-br","from-blue-600","via-indigo-600","to-purple-700","p-6"],["routerLink","/",1,"flex","items-center","gap-2","mb-6","text-indigo-100","hover:text-white","font-medium","bg-white/10","hover:bg-white/20","px-4","py-2","rounded-full","border","border-white/30","backdrop-blur-md","shadow","transition-all","duration-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19l-7-7 7-7"],[1,"bg-white/95","backdrop-blur-xl","p-8","rounded-2xl","shadow-2xl","w-full","max-w-md","space-y-6","border","border-white/20"],[1,"text-2xl","font-bold","text-center","text-indigo-700"],[1,"text-center","text-gray-500","text-sm"],[1,"block"],[1,"text-gray-700","font-medium"],["type","email",1,"w-full","mt-1","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-indigo-400","outline-none","transition",3,"ngModelChange","ngModel"],["placeholder","Laisser vide pour ne pas changer",1,"w-full","mt-1","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-indigo-400","outline-none","transition",3,"ngModelChange","type","ngModel"],[1,"flex","items-center","text-sm","mt-2","cursor-pointer","text-gray-600"],["type","checkbox",1,"mr-2","rounded","text-indigo-600",3,"ngModelChange","ngModel"],[1,"space-y-3","pt-2"],[1,"w-full","bg-indigo-600","hover:bg-indigo-700","text-white","py-2.5","rounded-lg","font-semibold","shadow-md","transition",3,"click"],[1,"w-full","bg-red-600","hover:bg-red-700","text-white","py-2.5","rounded-lg","font-semibold","shadow-md","transition",3,"click"],["class","text-center text-sm text-gray-600 mt-3",4,"ngIf"],[1,"text-center","text-sm","text-gray-600","mt-3"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"button",1),K(),o(2,"svg",2),c(3,"path",3),i(),a(4," Retour \xE0 l\u2019accueil "),i(),Oe(),o(5,"div",4)(6,"h2",5),a(7,"Mon profil"),i(),o(8,"p",6),a(9," G\xE9rez vos informations personnelles et s\xE9curisez votre compte \u{1F510} "),i(),o(10,"label",7)(11,"span",8),a(12,"Email"),i(),o(13,"input",9),N("ngModelChange",function(u){return A(n.email,u)||(n.email=u),u}),i()(),o(14,"label",7)(15,"span",8),a(16,"Nouveau mot de passe"),i(),o(17,"input",10),N("ngModelChange",function(u){return A(n.mot_de_passe,u)||(n.mot_de_passe=u),u}),i(),o(18,"label",11)(19,"input",12),N("ngModelChange",function(u){return A(n.showPassword,u)||(n.showPassword=u),u}),i(),a(20," Afficher le mot de passe "),i()(),o(21,"div",13)(22,"button",14),m("click",function(){return n.onUpdate()}),a(23," Mettre \xE0 jour "),i(),o(24,"button",15),m("click",function(){return n.onDelete()}),a(25," Supprimer mon compte "),i()(),h(26,Mt,2,1,"p",16),i()()),e&2&&(s(13),L("ngModel",n.email),s(4),d("type",n.showPassword?"text":"password"),L("ngModel",n.mot_de_passe),s(2),L("ngModel",n.showPassword),s(7),d("ngIf",n.message))},dependencies:[P,y,se,k,Qe,D,ne,te],styles:["[_nghost-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeIn .4s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};var tt=[{path:"",component:fe},{path:"profil",component:he},{path:"login",loadComponent:()=>import("./chunk-5PLNILEE.js").then(r=>r.LoginComponent)},{path:"signup",loadComponent:()=>import("./chunk-IVJMY55X.js").then(r=>r.SignupComponent)},{path:"**",redirectTo:""}];var it={providers:[je({eventCoalescing:!0}),Ge(tt),Be()]};var xe=class r{title="Pollution";static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-root"]],standalone:!0,features:[C],decls:1,vars:0,template:function(e,n){e&1&&c(0,"router-outlet")},dependencies:[$e]})};ze(xe,it).catch(r=>console.error(r));
