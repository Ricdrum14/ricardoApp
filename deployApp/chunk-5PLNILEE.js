import{A as e,B as t,Ba as D,C as S,Da as V,Fa as W,G as y,Ia as j,M as n,N as L,P as p,Q as g,R as c,S as C,T as f,aa as M,c as x,da as E,ia as _,ja as k,ma as I,n as b,oa as N,qa as F,r as w,ra as R,s as v,sa as T,ta as q,ua as z,v as a,w as m,x as u,y as s}from"./chunk-VOJA64NU.js";var B=()=>({standalone:!0});function P(l,o){l&1&&(e(0,"p",17),n(1," L\u2019adresse email est requise "),t())}function U(l,o){l&1&&(e(0,"p",18),n(1," Le mot de passe doit contenir au moins 6 caract\xE8res "),t())}var O=class l{constructor(o,d){this.utilisateurService=o;this.router=d}email="";password="";isLoading=!1;formSubmitted=!1;onLogin(){if(this.formSubmitted=!0,!this.email||!this.password){alert("Veuillez remplir tous les champs.");return}if(this.password.length<6){alert("Le mot de passe doit contenir au moins 6 caract\xE8res.");return}this.isLoading=!0,this.utilisateurService.login(this.email,this.password).subscribe({next:o=>x(this,null,function*(){console.log("\u2705 Utilisateur connect\xE9 :",o),this.isLoading=!1,yield this.router.navigate(["/"])}),error:o=>{console.error("\u274C Erreur de connexion :",o),this.isLoading=!1,alert("Email ou mot de passe incorrect.")}})}static \u0275fac=function(d){return new(d||l)(m(j),m(_))};static \u0275cmp=b({type:l,selectors:[["app-login"]],standalone:!0,features:[C],decls:27,vars:10,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gradient-to-br","from-blue-600","via-indigo-600","to-purple-700","p-6"],["routerLink","/",1,"flex","items-center","gap-2","mb-6","text-indigo-100","hover:text-white","font-medium","bg-white/10","hover:bg-white/20","px-4","py-2","rounded-full","border","border-white/30","backdrop-blur-md","shadow","transition-all","duration-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19l-7-7 7-7"],[1,"bg-white","rounded-2xl","shadow-2xl","w-full","max-w-md","p-8","space-y-6"],["id","login-title",1,"text-2xl","font-bold","text-center","text-indigo-700"],[1,"text-center","text-gray-500","text-sm"],[1,"space-y-4",3,"ngSubmit"],["for","email",1,"block","text-gray-700","font-medium","mb-1"],["id","email","name","email","type","email","required","","placeholder","Entrez votre adresse email","title","Entrez votre adresse email","aria-required","true",1,"w-full","px-4","py-2","border","rounded-lg","outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","ngModelOptions"],["class","text-red-500 text-sm","id","email-error",4,"ngIf"],["for","password",1,"block","text-gray-700","font-medium","mb-1"],["id","password","name","password","type","password","required","","minlength","6","placeholder","Entrez votre mot de passe","title","Entrez votre mot de passe","aria-required","true",1,"w-full","px-4","py-2","border","rounded-lg","outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","ngModelOptions"],["class","text-red-500 text-sm","id","password-error",4,"ngIf"],["type","submit","aria-label","Bouton de connexion",1,"w-full","bg-indigo-600","hover:bg-indigo-700","text-white","py-2","rounded-lg","font-semibold","transition",3,"disabled"],[1,"text-center","text-sm","text-gray-600","mt-4"],["routerLink","/signup","aria-label","Aller \xE0 la page d\u2019inscription",1,"text-indigo-600","font-semibold","hover:underline"],["id","email-error",1,"text-red-500","text-sm"],["id","password-error",1,"text-red-500","text-sm"]],template:function(d,i){d&1&&(e(0,"div",0)(1,"button",1),w(),e(2,"svg",2),S(3,"path",3),t(),n(4," Retour \xE0 l\u2019accueil "),t(),v(),e(5,"div",4)(6,"h2",5),n(7," Connexion "),t(),e(8,"p",6),n(9,"Heureux de vous revoir \u{1F33F}"),t(),e(10,"form",7),y("ngSubmit",function(){return i.onLogin()}),e(11,"div")(12,"label",8),n(13," Adresse email "),t(),e(14,"input",9),c("ngModelChange",function(r){return g(i.email,r)||(i.email=r),r}),t(),u(15,P,2,0,"p",10),t(),e(16,"div")(17,"label",11),n(18," Mot de passe "),t(),e(19,"input",12),c("ngModelChange",function(r){return g(i.password,r)||(i.password=r),r}),t(),u(20,U,2,0,"p",13),t(),e(21,"button",14),n(22),t()(),e(23,"p",15),n(24," Pas encore inscrit ? "),e(25,"a",16),n(26," Inscrivez-vous ! "),t()()()()),d&2&&(a(14),p("ngModel",i.email),s("ngModelOptions",f(8,B)),a(),s("ngIf",i.formSubmitted&&!i.email),a(4),p("ngModel",i.password),s("ngModelOptions",f(9,B)),a(),s("ngIf",i.formSubmitted&&i.password.length<6),a(),s("disabled",i.isLoading),a(),L(" ",i.isLoading?"Connexion...":"Se connecter"," "))},dependencies:[E,M,W,z,N,F,R,D,V,q,T,I,k]})};export{O as LoginComponent};
